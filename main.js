(()=>{"use strict";var e="",t=[{cardName:"Алтай",cardLink:e+"images/altai.898a40c381c72abedb6e.jpg",altText:"Фотография лазурного гейзерное озера в Алтае"},{cardName:"Камчатка",cardLink:e+"images/kamchatka.16fb84f5e6231d3881a5.jpg",altText:"Фотография дороги к большому вулкану на Камчатке в начале осени"},{cardName:"Мурманск",cardLink:e+"images/murmansk.20234c0c03a4f20afe99.jpg",altText:"Фотография красивого пересечения дорог на фоне природы Марманска"},{cardName:"Северная Осетия",cardLink:e+"images/severnaya-osetia.c42bef25fee91cc09bda.jpg",altText:"Фотография из небольшого просвета в пещере с видом на красивые снежные горы"},{cardName:"Красная поляна",cardLink:e+"images/krasnaya-polyana.566b8f4da77c7d5d1043.jpg",altText:"Фотография озера по пути к Бзерпскому карнизу в районе Красной Поляны"},{cardName:"Иркутск",cardLink:e+"images/irkutsk.ac52337f9ccd9d435360.jpg",altText:"Фотография замерзшего озера Байкал, где видно покрытый снегом скалистый выступ"}];function n(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),a=o.querySelector(".card__image"),c=o.querySelector(".card__title"),i=o.querySelector(".card__delete-button"),u=o.querySelector(".card__like-button");return a.src=e.cardLink,c.textContent=e.cardName,a.alt=e.altText,a.addEventListener("click",(function(){r(e.cardLink,e.altText,e.cardName)})),u.addEventListener("click",(function(e){n(e)})),i.addEventListener("click",(function(){return t(o)})),o}var r=function(e){return e.remove()},o=function(e){return e.target.classList.toggle("card__like-button_is-active")};function a(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",i)}function c(){document.querySelector(".popup_is-opened").classList.remove("popup_is-opened"),document.removeEventListener("keydown",i)}function i(e){"Escape"===e.key&&(document.querySelector(".popup_is-opened"),c())}function u(e){e.currentTarget===e.target&&c(e.currentTarget)}function l(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(n.inactiveButtonClass),t.disabled=!1):(t.classList.add(n.inactiveButtonClass),t.disabled=!0)}var d=function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent=""};function s(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);r.classList.add(t.inactiveButtonClass),n.forEach((function(o){d(e,o,t),l(n,r,t)}))}var p,m=document.querySelectorAll(".popup"),f=document.querySelector(".places__list"),_=document.querySelector(".profile__edit-button"),v=document.querySelector(".popup"),y=document.forms["edit-profile"],S=document.querySelector(".profile__title"),L=document.querySelector(".profile__description"),k=document.querySelectorAll(".popup__close"),q=document.querySelector(".profile__add-button"),E=document.querySelector(".popup_type_new-card"),b=document.forms["new-place"],g=document.querySelector(".popup__input_type_name"),C=document.querySelector(".popup__input_type_description"),x=document.querySelector(".popup_type_image"),T=x.querySelector(".popup__caption"),N=x.querySelector(".popup__image"),h={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function A(e,t,n){N.src=e,N.alt=t,T.textContent=n,a(x)}p=h,Array.from(document.querySelectorAll(p.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);e.addEventListener("reset",(function(){setTimeout((function(){l(n,r,t)}),0)})),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?d(e,t,n):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.inputErrorClass),o.classList.add(r.errorClass),o.textContent=n}(e,t,t.validationMessage,n)}(e,o,t),l(n,r,t)}))}))}(e,p)})),t.forEach((function(e){f.append(n(e,r,o,A))})),m.forEach((function(e){e.classList.add("popup_is-animated")})),k.forEach((function(e){e.addEventListener("click",c)})),_.addEventListener("click",(function(){return function(e,t,n){e.elements.name.value=S.textContent,e.elements.description.value=L.textContent,a(t),s(e,n)}(y,v,h)})),v.addEventListener("click",u),q.addEventListener("click",(function(){return a(E)})),E.addEventListener("click",u),y.addEventListener("submit",(function(e){e.preventDefault(),S.textContent=g.value,L.textContent=C.value,c()})),b.addEventListener("submit",(function(e){e.preventDefault();var t={cardName:b.elements["place-name"].value,cardLink:b.elements.link.value,altText:b.elements["place-name"].value};f.prepend(n(t,r,o,A)),c(),b.reset(),s(b,h)})),x.addEventListener("click",u)})();